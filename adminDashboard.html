<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="jsfiles/utils.js"></script>
    <script src="jsfiles/auth.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script>
        checkAuth('admin')
    </script>
     <link
     rel="stylesheet"
     href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
   />
</head>
<body>

    <div class="flex w-full bg-zinc-200 gap-5  h-screen p-5">
        <div class="bg-white/70 w-1/5 p-10 rounded-2xl ">
            <a href="/frontend/" class="text-2xl text-red-500 cursor-pointer ">Travello</a>
            <ul class="mt-10 flex flex-col gap-5 font-bold">
                <li class="tab-link cursor-pointer p-2  text-red-500 bg-red-50" onclick="switchTab(event, 'dashboard-content')">Dashboard</li>
                <li class="tab-link cursor-pointer p-2  text-zinc-500 hover:bg-zinc-100" onclick="switchTab(event, 'bus-content')">Buses</li>
                <li class="tab-link cursor-pointer p-2  text-zinc-500 hover:bg-zinc-100" onclick="switchTab(event, 'city-content')">Cities</li>
                <li class="tab-link cursor-pointer p-2  text-zinc-500 hover:bg-zinc-100" onclick="switchTab(event, 'route-content')">Routes</li>
                <li class="tab-link cursor-pointer p-2  text-zinc-500 hover:bg-zinc-100" onclick="switchTab(event, 'trip-content')">Trips</li>
                <li class="tab-link cursor-pointer p-2  text-zinc-500 hover:bg-zinc-100" onclick="switchTab(event, 'bookings-content')">Bookings</li>
                <li class="tab-link cursor-pointer p-2  text-zinc-500 hover:bg-zinc-100" onclick="switchTab(event, 'tickets-content')">Tickets</li>
                <li class="tab-link cursor-pointer p-2  text-zinc-500 hover:bg-zinc-100" onclick="switchTab(event, 'settings-content')">Settings</li>
            </ul>
        </div>
        <div class="flex-1 flex flex-col gap-5">
            <div class="h-1/7 flex justify-between items-center bg-white/70 rounded-2xl px-10 py-5">
                <p id="headerText" class="text-lg font-semibold text-zinc-400">Dashboards</p>

                <div class="flex gap-3 items-center">
                    <i class="fa-solid fa-circle-user fa-2x"></i>
                    <div class="flex flex-col">
                        <p class="text-sm font-bold text-zinc-400" id="name"></p>
                        <p class="text-sm font-bold text-zinc-400" id="email"></p>
                    </div>
                </div>
            </div>
            <div class="flex-1 bg-white/70 rounded-2xl overflow-auto p-10">
                <div id="dashboard-content" class="tab-pane">
                    <h1>Dashboard Content here</h1>
                </div>
                <div id="bus-content" class="tab-pane hidden flex flex-col  gap-5">
                    <button id="open-modal" class="w-full border border-red-500 rounded-2xl font-bold text-red-500 p-5 cursor-pointer hover:bg-red-50 text-center">
                        Add Bus 
                        </button>
                       
                        
                      
                </div>
                <dialog id="my-modal" class=" w-1/2 h-3/4 m-auto rounded-lg shadow-xl backdrop:bg-black backdrop:opacity-70">
                    <div class="p-6">
                    
                      <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-semibold text-red-500">Add Bus</h2>
                        <button id="close-modal-btn" class="text-gray-500 cursor-pointer hover:text-gray-700">
                          ✕
                        </button>
                      </div>
                      
                      <!-- Modal Content -->
                      <form id="registerBusForm"  class="grid grid-cols-1 gap-5  mt-10">
                       
                        <input name="name" type="text" placeholder="Bus name" class="border p-4 rounded-2xl">
                       
                        <input name="number" type="text" placeholder="Bus number" class="border p-4 rounded-2xl">
                       
                        <input name="bus_type" type="text" placeholder="Bus type" class="border p-4 rounded-2xl">
                       
                        <input name="total_seats" type="text" placeholder="Total seats" class="border p-4 rounded-2xl">
                       
                        <input name="owner" type="text" placeholder="Owner name" class="border p-4 rounded-2xl">

                        <button class="bg-red-500 p-4 hover:bg-red-400 cursor-pointer font-bold text-white text-lg rounded-2xl " type="submit">Add</button>
                      </form>
                      
                     
                      
                    </div>
                  </dialog>

                <dialog id="updateModal" class=" w-1/2 h-3/4 m-auto rounded-lg shadow-xl backdrop:bg-black backdrop:opacity-70">
                    <div class="p-6">
                    
                      <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-semibold text-red-500">Update Bus</h2>
                        <button id="close-update-modal-btn" class="text-gray-500 cursor-pointer hover:text-gray-700">
                          ✕
                        </button>
                      </div>
                      
                      <!-- Modal Content -->
                      <form id="updateBusForm"  class="grid grid-cols-1 gap-5  mt-10">
                       
                        <input name="name" type="text" placeholder="Bus name" class="border p-4 rounded-2xl">
                       
                        <input name="number" type="text" placeholder="Bus number" class="border p-4 rounded-2xl">
                       
                        <input name="bus_type" type="text" placeholder="Bus type" class="border p-4 rounded-2xl">
                       
                        <input name="total_seats" type="text" placeholder="Total seats" class="border p-4 rounded-2xl">
                       
                        <input name="owner" type="text" placeholder="Owner name" class="border p-4 rounded-2xl">

                        <button class="bg-red-500 p-4 hover:bg-red-400 cursor-pointer font-bold text-white text-lg rounded-2xl " type="submit">Update</button>
                      </form>
                      
                     
                      
                    </div>
                  </dialog>
                  <dialog id="deleteModal" class=" w-1/5 m-auto rounded-lg shadow-xl backdrop:bg-black backdrop:opacity-70">
                    <div class="p-6">
                    
                      <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-semibold text-red-500">Delete Bus</h2>
                        <button id="close-delete-modal-btn" class="text-gray-500 cursor-pointer hover:text-gray-700">
                          ✕
                        </button>
                      </div>
                      
                      <!-- Modal Content -->
                      
                      <div class="flex flex-col gap-10">
                        <p class="text-zinc-400">Are you sure you want delete bus ? </p>

                      <div class="flex gap-5">
                        <button id="cancleDelete" class="border cursor-pointer border-red-500 px-2 py-1 text-red-500 rounded-full hover:bg-red-50">Cancel</button>
                      <button id="deleteBusBtn" class="bg-red-500 cursor-pointer px-2 py-1 text-white rounded-full hover:bg-red-400">Delete</button>
                      </div>
                      </div>
                      
                     
                      
                    </div>
                  </dialog>
                  <dialog id="assignRouteModal" class=" w-1/5 m-auto rounded-lg shadow-xl backdrop:bg-black backdrop:opacity-70">
                    <div class="p-6">
                    
                      <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-semibold text-red-500">Add Route</h2>
                        <button id="close-assign-route-modal-btn" class="text-gray-500 cursor-pointer hover:text-gray-700">
                          ✕
                        </button>
                      </div>
                      
                      <!-- Modal Content -->
                      
                     
                       <form id="addRouteToBusForm" class="flex flex-col gap-4" action="">
                        <select name="route_id" id="sourceAndDestinationCityDropdown" class="border p-2 ">
                          <option value="">Select Route</option>
                         </select>
                         <button type="submit" class="bg-red-500 hover:bg-red-400 text-sm text-white cursor-pointer px-2 py-1 ">Add</button>
                       </form>

                      </div>
                  </dialog>
                <div id="bookings-content" class="tab-pane hidden">
                    <h1>Bookings Content here</h1>
                </div>
                <div id="city-content" class="tab-pane hidden">
                    

                  <button id="addCityBtn"> Add city</button>
                </div>
                 <dialog id="addCity" class=" w-1/3 m-auto rounded-lg shadow-xl backdrop:bg-black backdrop:opacity-70">
                    <div class="p-6">
                    
                      <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-semibold text-red-500">Add City</h2>
                        <button id="close-city-modal-btn" class="text-gray-500 cursor-pointer hover:text-gray-700">
                          ✕
                        </button>
                      </div>
                      
                      <!-- Modal Content -->
                      <form id="addCityForm" action class="flex flex-col gap-5 mt-10">
                        <input name="name" placeholder="Name" type="text" class="border px-3 py-2 w-full  rounded-2xl">
                        <input name="state" placeholder="State" type="text" class="border px-3 py-2 w-full rounded-2xl">
                        <input name="country" placeholder="Country" type="text" class="border px-3 py-2 w-full rounded-2xl ">
                        <input name="code" placeholder="Code" type="text" class="border px-3 py-2 w-full rounded-2xl">
                        <input name="slug" placeholder="Slug" type="text" class="border px-3 py-2 w-full rounded-2xl">
                        <button type="submit" class="px-3 py-3 bg-red-500 hover:bg-red-400 text-sm font-bold cursor-pointer text-white rounded-2xl">Add City</button>
                      </form>
                     
                      
                     
                      
                    </div>
                  </dialog>
                   <dialog id="updateCity" class=" w-1/3 m-auto rounded-lg shadow-xl backdrop:bg-black backdrop:opacity-70">
                    <div class="p-6">
                    
                      <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-semibold text-red-500">Update City</h2>
                        <button id="close-city-update-modal-btn" class="text-gray-500 cursor-pointer hover:text-gray-700">
                          ✕
                        </button>
                      </div>
                      
                      <!-- Modal Content -->
                      <form id="updateCityForm" action class="flex flex-col gap-5 mt-10">
                        <input name="name" placeholder="Name" type="text" class="border px-3 py-2 w-full  rounded-2xl">
                        <input name="state" placeholder="State" type="text" class="border px-3 py-2 w-full rounded-2xl">
                        <input name="country" placeholder="Country" type="text" class="border px-3 py-2 w-full rounded-2xl ">
                        <input name="code" placeholder="Code" type="text" class="border px-3 py-2 w-full rounded-2xl">
                        <input name="slug" placeholder="Slug" type="text" class="border px-3 py-2 w-full rounded-2xl">
                        <button type="submit" class="px-3 py-3 bg-red-500 hover:bg-red-400 text-sm font-bold cursor-pointer text-white rounded-2xl">Update</button>
                      </form>
                     
                      
                     
                      
                    </div>
                  </dialog>

                      <dialog id="deleteCityModal" class=" w-1/5 m-auto rounded-lg shadow-xl backdrop:bg-black backdrop:opacity-70">
                    <div class="p-6">
                    
                      <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-semibold text-red-500">Delete City</h2>
                        <button id="close-delete-city-modal-btn" class="text-gray-500 cursor-pointer hover:text-gray-700">
                          ✕
                        </button>
                      </div>
                      
                      <!-- Modal Content -->
                      
                      <div class="flex flex-col gap-10">
                        <p class="text-zinc-400">Are you sure you want delete city ? </p>

                      <div class="flex gap-5">
                        <button id="cancleCityDelete" class="border cursor-pointer border-red-500 px-2 py-1 text-red-500 rounded-full hover:bg-red-50">Cancel</button>
                      <button id="deleteCityBtn" class="bg-red-500 cursor-pointer px-2 py-1 text-white rounded-full hover:bg-red-400">Delete</button>
                      </div>
                      </div>
                      
                     
                      
                    </div>
                  </dialog>
                  <div id="route-content" class="tab-pane hidden">
                    <h1>Routes content here</h1>
                </div>
                <dialog id="addRouteModal" class=" w-1/3 m-auto rounded-lg shadow-xl backdrop:bg-black backdrop:opacity-70">
                  <div class="p-6">
                  
                    <div class="flex justify-between items-center mb-4">
                      <h2 class="text-xl font-semibold text-red-500">Add Route</h2>
                      <button id="closeRouteModal" class="text-gray-500 cursor-pointer hover:text-gray-700">
                        ✕
                      </button>
                    </div>
                    
                    <!-- Modal Content -->
                    
                   <form id="addRouteForm" action="" class="flex flex-col gap-5">
                    <select name="source_city_id" id="sourceCityDropdown" class="p-2 border">
                      <option value="">Select source city</option>
                     </select>
                     <select name="destination_city_id" id="destinationCityDropdown" class="p-2 border">
                      <option value="">Select destination city</option>
                     </select>
                     <input name="distance" type="text" placeholder="Distance" class="p-2 border">
                     <input name="duration" type="text" placeholder="Duration" class="p-2 border">
                     <button type="submit" class="bg-red-500 px-3 py-2 text-white text-sm font-bold hover:bg-red-400 cursor-pointer">Add Route</button>
                   </form>
                  </div>
                  
                </dialog>
                <dialog id="updateRouteModal" class=" w-1/3 m-auto rounded-lg shadow-xl backdrop:bg-black backdrop:opacity-70">
                  <div class="p-6">
                  
                    <div class="flex justify-between items-center mb-4">
                      <h2 class="text-xl font-semibold text-red-500">Update Route</h2>
                      <button id="closeUpdateRouteModal" class="text-gray-500 cursor-pointer hover:text-gray-700">
                        ✕
                      </button>
                    </div>
                    
                    <!-- Modal Content -->
                    
                   <form id="updateRouteForm" action="" class="flex flex-col gap-5">
                    <select name="source_city_id" id="updateSourceCityDropdown" class="p-2 border">
                      <option value="">Select source city</option>
                     </select>
                     <select name="destination_city_id" id="updateDestinationCityDropdown" class="p-2 border">
                      <option value="">Select destination city</option>
                     </select>
                     <input name="distance" type="text" placeholder="Distance" class="p-2 border">
                     <input name="duration" type="text" placeholder="Duration" class="p-2 border">
                     <button type="submit" class="bg-red-500 px-3 py-2 text-white text-sm font-bold hover:bg-red-400 cursor-pointer">Add Route</button>
                   </form>
                  </div>
                  
                </dialog>
                <dialog id="deleteRouteModal" class=" w-1/5 m-auto rounded-lg shadow-xl backdrop:bg-black backdrop:opacity-70">
                  <div class="p-6">
                  
                    <div class="flex justify-between items-center mb-4">
                      <h2 class="text-xl font-semibold text-red-500">Delete Route</h2>
                      <button id="closeDeleteRouteModal" class="text-gray-500 cursor-pointer hover:text-gray-700">
                        ✕
                      </button>
                    </div>
                    
                    <!-- Modal Content -->
                    <div class="flex flex-col gap-5">
                      <p>Are you sure you want to delete Route ? </p>
                      <div class="flex gap-2">
                        <button id="cancleDeleteRouteBtn" class="border border-red-500 rounded-2xl px-2 py-1 cursor-pointer hover:bg-red-50 text-sm  text-red-500">Cancel</button>
                        <button id="confirmDeleteRouteBtn" class="bg-red-500 hover:bg-red-400 cursor-pointer rounded-2xl px-2 py-1 text-sm  text-white">Delete</button>
                      </div> 
                    </div>
                  
                  </div>
                  
                </dialog>
                <div id="trip-content" class="tab-pane hidden">
                  <h1>Trip content here</h1>
                </div>
                <dialog id="createTripModal" class=" w-1/3 m-auto rounded-lg shadow-xl backdrop:bg-black backdrop:opacity-70">
                  <div class="p-6">
                  
                    <div class="flex justify-between items-center mb-4">
                      <h2 class="text-xl font-semibold text-red-500">Create Trip</h2>
                      <button id="closeCreateTripModalBtn" class="text-gray-500 cursor-pointer hover:text-gray-700">
                        ✕
                      </button>
                    </div>
                    
                    <!-- Modal Content -->
                    <form id="createTripForm" action="" class="flex flex-col gap-5">
                      <select required name="bus_id" id="selectBusForCreateTrip" class="p-2 border ">
                        <option value="">Select bus</option>
                      </select>
                      <input required name="date" type="date" class="p-2 border" placeholder="Select date">
                      <input required name="departure_time" type="time" class="p-2 border ">
                      <input required name="arrival_time" type="time" class="p-2 border ">
                      <input required name="price" type="text" class="p-2 border " placeholder="Price">
                      <button type="submit" class="bg-red-500 hover:bg-red-400 cursor-pointer text-sm font-bold text-white p-2">Create</button>
                    </form>
                  
                  </div>
                  
                </dialog>
                <dialog id="updateTripModal" class=" w-1/3 m-auto rounded-lg shadow-xl backdrop:bg-black backdrop:opacity-70">
                  <div class="p-6">
                  
                    <div class="flex justify-between items-center mb-4">
                      <h2 class="text-xl font-semibold text-red-500">Update Trip</h2>
                      <button id="closeUpdateTripModal" class="text-gray-500 cursor-pointer hover:text-gray-700">
                        ✕
                      </button>
                    </div>
                    
                    <!-- Modal Content -->
                    <form id="updateTripForm" action="" class="flex flex-col gap-5">
                      
                      <input  name="date" type="date" class="p-2 border" placeholder="Select date">
                      <input  name="departure_time" type="time" class="p-2 border ">
                      <input  name="arrival_time" type="time" class="p-2 border ">
                      <input  name="price" type="text" class="p-2 border " placeholder="Price">
                      <button type="submit" class="bg-red-500 hover:bg-red-400 cursor-pointer text-sm font-bold text-white p-2">Update</button>
                    </form>
                  
                  </div>
                  
                </dialog>
                <dialog id="deleteTripModal" class=" w-1/5 m-auto rounded-lg shadow-xl backdrop:bg-black backdrop:opacity-70">
                  <div class="p-6">
                  
                    <div class="flex justify-between items-center mb-4">
                      <h2 class="text-xl font-semibold text-red-500">Delete Trip</h2>
                      <button id="closeDeleteTripModal" class="text-gray-500 cursor-pointer hover:text-gray-700">
                        ✕
                      </button>
                    </div>
                    
                    <!-- Modal Content -->
                    <div class="flex flex-col gap-5">
                      <p>Are you sure you want to delete Trip ? </p>
                      <div class="flex gap-2">
                        <button id="cancelDeleteTripBtn" class="border border-red-500 rounded-2xl px-2 py-1 cursor-pointer hover:bg-red-50 text-sm  text-red-500">Cancel</button>
                        <button id="confirmDeleteTripBtn" class="bg-red-500 hover:bg-red-400 cursor-pointer rounded-2xl px-2 py-1 text-sm  text-white">Delete</button>
                      </div> 
                    </div>
                  
                  </div>
                  
                </dialog>
                <div id="tickets-content" class="tab-pane hidden">
                    <h1>Tickets content here</h1>
                </div>
                <div id="settings-content" class="tab-pane hidden">
                    <h1>Settings content here</h1>
                    <button class="bg-red-500 p-2 cursor-pointer text-sm text-white" onclick="logout()">Logout</button>
                </div>
                </div>
                </div>
            </div>
        </div>
    </div>

    <script src="jsfiles/adminDashboard.js"></script>
    
</body>
</html>